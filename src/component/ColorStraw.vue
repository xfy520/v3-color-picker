<template>
  <div class="color-straw" @click="onEyeDropper">
    <svg viewBox="0 0 1024 1024" width="16" height="16">
      <path
        d="M861.098667 439.424c-0.426667 0.426667-2.346667-0.768-4.266667-2.688l-267.52-267.562667c-1.962667-1.92-3.157333-3.84-2.730667-4.266666l60.288-60.245334c0.426667-0.426667 2.346667 0.768 4.266667 2.688l267.52 267.52c1.92 1.92 3.114667 3.84 2.688 4.266667l-60.245333 60.288z m131.925333-283.690667L868.992 31.701333C837.76 0.426667 792.746667-7.168 759.04 10.154667a77.653333 77.653333 0 0 0-19.541333 14.208l-36.992 36.949333c-2.645333 2.688-5.077333 5.546667-7.253334 8.448 0.426667 0.597333 0.938667 1.194667 1.536 1.792l256.512 256.512a17.578667 17.578667 0 0 0 1.664 1.450667c2.944-2.218667 5.802667-4.608 8.448-7.253334l36.992-36.992c5.845333-5.888 10.538667-12.458667 14.208-19.584 17.28-33.706667 9.642667-78.72-21.589333-109.952zM380.885333 917.930667c-1.664 6.016 433.749333-430.08 433.749334-430.08 3.072-3.114667 5.248-5.973333 4.864-6.357334L762.88 424.874667c-0.426667-0.426667-3.242667 1.792-6.314667 4.864L329.642667 857.258667c-0.170667 0.170667-9.728 5.717333-9.898667 5.888 0 0-164.309333 47.786667-168.448 48-3.413333 0.256-20.906667-19.541333-20.906667-19.541334s-16.384-14.506667-16.384-18.048c0-3.541333 52.224-179.413333 52.224-179.413333l424.874667-427.52c3.072-3.072 5.290667-5.888 4.906667-6.272l-52.949334-52.906667c-0.384-0.426667-3.2 1.792-6.272 4.864L104.32 644.778667c-0.426667 0.426667-6.016 6.144-6.698667 8.362666l-90.88 306.688a41.130667 41.130667 0 0 0 55.808 57.301334c0.682667 0.128 2.090667 0 3.626667-0.469334 0 0 293.930667-86.144 298.624-89.941333l16.085333-8.789333z m332.288-542.549334l-70.442666-70.485333c-0.512-0.469333-3.413333 1.578667-6.4 4.608l-427.093334 427.093333a21.674667 21.674667 0 0 0-4.565333 5.802667l57.770667 12.970667a9.557333 9.557333 0 0 1 6.058666 8.021333l7.68 49.834667a26.709333 26.709333 0 0 0 5.376-4.394667L708.565333 381.866667c3.072-3.072 5.12-5.973333 4.608-6.442667z"
        p-id="4133"></path>
    </svg>
  </div>
</template>

<script>
import { defineComponent } from "vue";

export default defineComponent({
  name: "ColorStraw",
  emits: ['updateColor'],
  setup(_, { emit }) {
    const onEyeDropper = (event) => {
      event.stopPropagation();
      const eyeDropper = new EyeDropper();
      eyeDropper
        .open()
        .then((result) => {
          emit('updateColor', result.sRGBHex);
        })
        .catch((e) => {
          console.error(e);
        });
    }
    return {
      onEyeDropper
    };
  }
})
</script>

<style>
.color-straw {
  width: 20px;
  height: 32px;
  padding: 0 3px;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  fill: #9099a4;
  cursor: pointer;
  transition: all 0.3s;
}

.color-picker-light .color-straw {
  fill: #555555;
}

.color-straw:hover,
.color-straw:active {
  fill: #1593ff;
}
</style>
